{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}NexGenMusic{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Load ONLY the new design system -->
    <link rel="stylesheet" href="{% static 'css/design-system.css' %}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <div class="flex h-screen bg-gray-50">
        <!-- Sidebar -->
        {% include 'includes/sidebar.html' %}
        
        <!-- Main Content Area -->
        <div class="flex-1 flex flex-col" style="margin-left: 280px;">
            <!-- Top Header - Donezo Style -->
            <header style="background: var(--surface); border-bottom: 1px solid var(--border-light); padding: 20px 40px;">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <!-- Search -->
                    <div style="flex: 1; max-width: 400px;">
                        <div style="position: relative;">
                            <svg style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--text-tertiary); width: 16px; height: 16px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                            <input
                                type="text"
                                placeholder="Search task"
                                style="width: 100%; padding: 12px 16px 12px 40px; border: 1px solid var(--border-light); border-radius: var(--radius-lg); background: var(--bg-tertiary); color: var(--text-primary); font-size: 0.875rem; outline: none; transition: all 0.2s ease;"
                                onfocus="this.style.borderColor='var(--brand-primary)'; this.style.boxShadow='0 0 0 3px rgba(10, 138, 77, 0.1)'"
                                onblur="this.style.borderColor='var(--border-light)'; this.style.boxShadow='none'"
                            />
                            <kbd style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); font-size: 0.75rem; color: var(--text-tertiary); background: var(--surface); padding: 4px 8px; border-radius: 4px; border: 1px solid var(--border-light);">
                                âŒ˜F
                            </kbd>
                        </div>
                    </div>

                    <!-- Right side controls -->
                    <div style="display: flex; align-items: center; gap: 16px;">
                        <!-- Notifications -->
                        <button style="padding: 8px; color: var(--text-secondary); background: none; border: none; border-radius: var(--radius-md); cursor: pointer; transition: all 0.2s ease;" onmouseover="this.style.color='var(--text-primary)'; this.style.background='var(--bg-tertiary)'" onmouseout="this.style.color='var(--text-secondary)'; this.style.background='none'">
                            <svg style="width: 20px; height: 20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 17h5l-5 5v-5z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 7h6a2 2 0 012 2v9a2 2 0 01-2 2H9l-7-7 7-7z"></path>
                            </svg>
                        </button>

                        <!-- Theme Toggle -->
                        <button id="themeToggle" style="padding: 8px; color: var(--text-secondary); background: none; border: none; border-radius: var(--radius-md); cursor: pointer; transition: all 0.2s ease;" title="Toggle theme" onmouseover="this.style.color='var(--text-primary)'; this.style.background='var(--bg-tertiary)'" onmouseout="this.style.color='var(--text-secondary)'; this.style.background='none'">
                            <svg class="sun-icon" style="width: 20px; height: 20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                            </svg>
                            <svg class="moon-icon" style="width: 20px; height: 20px; display: none;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                            </svg>
                        </button>

                        <!-- Profile -->
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="text-align: right;">
                                <div style="font-size: 0.875rem; font-weight: 500; color: var(--text-primary);">Totok Michael</div>
                                <div style="font-size: 0.75rem; color: var(--text-secondary);">tmichael@gmail.com</div>
                            </div>
                            <img
                                src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                                alt="Profile"
                                style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--brand-primary);"
                            />
                        </div>
                    </div>
                </div>
            </header>

            <!-- Page Content -->
            <main class="flex-1 overflow-auto">
                {% block content %}{% endblock %}
            </main>
        </div>
    </div>

    <script src="{% static 'js/theme.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
